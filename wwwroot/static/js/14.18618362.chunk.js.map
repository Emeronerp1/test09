{"version":3,"sources":["pages/ScheduledList.js","services/BackendService.js"],"names":["Dashboard","history","useHistory","useState","requests","setRequests","isFetching","setIsFetching","columns","dataField","text","formatter","cell","row","rowIndex","formatExtraData","className","onClick","push","UnitId","UCId","navigate","sort","pagination","paginationFactory","sizePerPage","hideSizePerPage","prePageText","nextPageText","withFirstAndLast","hidePageListOnlyOnePage","useEffect","BackendService","getScheduledList","then","response","console","log","data","JSON","parse","duration","height","count","bootstrap4","keyField","striped","condensed","defaultSorted","order","apiBase","process","axios","interceptors","request","use","config","user","localStorage","getItem","token","headers","Authorization","a","post","get"],"mappings":"uQAUe,SAASA,IACtB,IAAMC,EAAUC,cAChB,EAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAoCF,oBAAS,GAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KAMMC,EAAU,CAAC,CACfC,UAAW,OACXC,KAAM,SACNC,UAAW,SAACC,EAAMC,EAAKC,EAAUC,GAE/B,OACI,wBAAQC,UAAU,kBACdC,QAAS,YAXJ,SAACJ,GAChBZ,EAAQiB,KAAR,6BAAmCL,EAAIM,OAAvC,YAAiDN,EAAIO,OAWvCC,CAASR,IAFjB,mCAQF,CACJJ,UAAW,cACXC,KAAM,eACNY,MAAM,GACL,CACDb,UAAW,eACXC,KAAM,gBACNY,MAAM,GACL,CACDb,UAAW,kBACXC,KAAM,kBACNY,MAAM,GACL,CACDb,UAAW,UACXC,KAAM,UACNY,MAAM,GACL,CACDb,UAAW,cACXC,KAAM,cACNY,MAAM,GACL,CACDb,UAAW,OACXC,KAAM,OACNY,MAAM,GACL,CACDb,UAAW,cACXC,KAAM,cACNY,MAAM,GACL,CACDb,UAAW,QACXC,KAAM,gBACNY,MAAM,GACL,CACDb,UAAW,eACXC,KAAM,eACNY,MAAM,GACL,CACDb,UAAW,SACXC,KAAM,SACNY,MAAM,GACL,CACDb,UAAW,YACXC,KAAM,YACNY,MAAM,GACL,CACDb,UAAW,cACXC,KAAM,cACNY,MAAM,GACL,CACDb,UAAW,WACXC,KAAM,WACNY,MAAM,GACL,CACDb,UAAW,eACXC,KAAM,iBACNY,MAAM,GACL,CACDb,UAAW,uBACXC,KAAM,yBACNY,MAAM,GACL,CACDb,UAAW,yBACXC,KAAM,2BACNY,MAAM,GACL,CACDb,UAAW,wBACXC,KAAM,2BACNY,MAAM,GACL,CACDb,UAAW,gBACXC,KAAM,iBACNY,MAAM,IASFC,EAAaC,IAAkB,CACnCC,YAAa,GACbC,iBAAiB,EACjBC,YAAa,WACbC,aAAc,OACdC,kBAAkB,EAClBC,yBAAyB,IAczB,OAXFC,qBAAU,WACRC,IACGC,mBACAC,MAAK,SAACC,GACL5B,GAAc,GACd6B,QAAQC,IAAIF,EAASG,KAAKA,KAAKA,MAC/BjC,EAAYkC,KAAKC,MAAML,EAASG,KAAKA,KAAKA,OAC1CF,QAAQC,IAAIjC,QAEf,IAGG,qBAAKY,UAAU,oCAAf,SACA,qBAAKA,UAAU,aAAf,SACE,qBAAKA,UAAU,kBAAf,SACE,qBAAKA,UAAU,MAAf,SAEE,qBAAKA,UAAU,qCAAf,SACE,qBAAKA,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,4BACA,qBAAKA,UAAU,mBAAf,SACEV,EACE,cAAC,IAAD,CAAUmC,SAAU,EAAGC,OAAQ,GAAIC,MAAO,IAE9C,mCACA,cAAC,IAAD,CACIC,YAAU,EACVC,SAAS,KACTP,KAAOlC,EACP0C,SAAO,EACPC,WAAS,EACTvC,QAAUA,EACVwC,cA/CA,CAAC,CACrBvC,UAAW,OACXwC,MAAO,SA8Ca1B,WAAaA,yB,8FC1J/B2B,EAAUC,yCAGhBC,IAAMC,aAAaC,QAAQC,KAAK,SAAAC,GAC9B,IAAMC,EAAOlB,KAAKC,MAAMkB,aAAaC,QAAQ,cAAgB,GAE7D,GAAGF,GAAQA,EAAKG,MAAM,CACpB,IAAMA,EAAQ,UAAYH,EAAKG,MAC/BJ,EAAOK,QAAQC,cAAiBF,EAElC,OAAOJ,K,IAGHxB,E,mIACJ,sBAAA+B,EAAA,sEACeX,IAAMY,KAAKd,EAAU,yBADpC,mF,2HAIA,sBAAAa,EAAA,sEACeX,IAAMY,KAAKd,EAAU,sBADpC,mF,+HAGA,WAA2BZ,GAA3B,SAAAyB,EAAA,sEACeX,IAAMY,KAAKd,EAAU,yBAA0BZ,GAD9D,mF,kIAGA,WAA6BA,GAA7B,SAAAyB,EAAA,sEACeX,IAAMY,KAAKd,EAAU,8BAA+BZ,GADnE,mF,8HAIA,WAAyBA,GAAzB,SAAAyB,EAAA,sEACeX,IAAMY,KAAKd,EAAU,0BAA2BZ,GAD/D,mF,4HAIA,sBAAAyB,EAAA,sEACeX,IAAMY,KAAKd,EAAU,uBADpC,mF,6HAIA,sBAAAa,EAAA,sEACeX,IAAMY,KAAKd,EAAU,wBADpC,mF,4HAIA,WAAwBZ,GAAxB,SAAAyB,EAAA,sEACeX,IAAMY,KAAKd,EAAU,yBAA0BZ,GAD9D,mF,+HAIA,WAA0BA,GAA1B,SAAAyB,EAAA,sEACeX,IAAMY,KAAKd,EAAU,qBAAsBZ,GAD1D,mF,sHAIA,sBAAAyB,EAAA,sEACeX,IAAMa,IAAI,gBADzB,mF,wHAIA,sBAAAF,EAAA,sEACeX,IAAMa,IAAI,mBADzB,mF,6DAKa,QAAIjC","file":"static/js/14.18618362.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport BackendService from \"../services/BackendService\";\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport { Link, useHistory } from 'react-router-dom';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton'\nimport 'react-loading-skeleton/dist/skeleton.css'\n\n\nexport default function Dashboard() {\n  const history = useHistory();\n  const [requests, setRequests] = useState([]);\n  const [isFetching, setIsFetching] = useState(true);\n\n  const navigate = (row) => {\n    history.push(`/loadForInspection/${row.UnitId}/${row.UCId}`);\n  }\n\n  const columns = [{\n    dataField: 'link',\n    text: 'ACTION',\n    formatter: (cell, row, rowIndex, formatExtraData) => {\n        \n      return (\n          <button className=\"btn btn-primary\"\n              onClick={() => {\n                  navigate(row);\n              }}\n          >\n          Open For Inspection\n          </button>\n      )\n    }}, {\n    dataField: 'RequestType',\n    text: 'Request Type',\n    sort: false\n  }, {\n    dataField: 'PropertyType',\n    text: 'Property Type',\n    sort: false\n  }, {\n    dataField: 'Classifications',\n    text: 'Classifications',\n    sort: false\n  }, {\n    dataField: 'User_ID',\n    text: 'User ID',\n    sort: false\n  }, {\n    dataField: 'Plot_Number',\n    text: 'Plot NUmber',\n    sort: false\n  }, {\n    dataField: 'Name',\n    text: 'Name',\n    sort: false\n  }, {\n    dataField: 'Unit_Number',\n    text: 'Unit Number',\n    sort: false\n  }, {\n    dataField: 'Email',\n    text: 'Email Address',\n    sort: false\n  }, {\n    dataField: 'Floor_Number',\n    text: 'Floor Number',\n    sort: false\n  }, {\n    dataField: 'Mobile',\n    text: 'Mobile',\n    sort: false\n  }, {\n    dataField: 'Area_Name',\n    text: 'Area Name',\n    sort: false\n  }, {\n    dataField: 'Street_Name',\n    text: 'Street Name',\n    sort: false\n  }, {\n    dataField: 'Location',\n    text: 'Location',\n    sort: false\n  }, {\n    dataField: 'NoOfBedrooms',\n    text: 'No Of Bedrooms',\n    sort: false\n  }, {\n    dataField: 'InspectionAssignedOn',\n    text: 'Inspection Assigned On',\n    sort: false\n  }, {\n    dataField: 'InspectionAssignedDate',\n    text: 'Inspection Assigned Date',\n    sort: false\n  }, {\n    dataField: 'ScheduleSiteVisitDate',\n    text: 'Schedule Site Visit Date',\n    sort: false\n  }, {\n    dataField: 'ScheduledTime',\n    text: 'Scheduled Time',\n    sort: false\n  }];\n  \n  \n  const defaultSorted = [{\n    dataField: 'name',\n    order: 'desc'\n  }];\n\n  const pagination = paginationFactory({\n    sizePerPage: 50,\n    hideSizePerPage: true,\n    prePageText: \"Previous\",\n    nextPageText: \"Next\",\n    withFirstAndLast: false,\n    hidePageListOnlyOnePage: false\n  });\n\n  useEffect(() => {\n    BackendService\n      .getScheduledList()\n      .then((response) => {\n        setIsFetching(false);\n        console.log(response.data.data.data);\n        setRequests(JSON.parse(response.data.data.data));\n        console.log(requests)\n      });\n  }, []);\n\n    return (\n        <div className=\"container-fluid page-body-wrapper\">\n        <div className=\"main-panel\">\n          <div className=\"content-wrapper\">\n            <div className=\"row\">\n\n              <div className=\"col-lg-12 grid-margin stretch-card\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <h4 className=\"card-title\">Scheduled List</h4>\n                    <div className=\"table-responsive\">\n                    { isFetching ? (\n                        <Skeleton duration={3} height={50} count={5} />\n                    ) : (\n                    <>\n                    <BootstrapTable\n                        bootstrap4\n                        keyField=\"id\"\n                        data={ requests }\n                        striped\n                        condensed\n                        columns={ columns }\n                        defaultSorted={ defaultSorted }\n                        pagination={ pagination } \n                      />\n                    </>\n                    ) }\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n          </div>\n        </div>\n        </div>\n    )\n}\n","import axios from 'axios';\n\nconst apiBase = process.env.REACT_APP_API_URL;\n\n// Add a request interceptor\naxios.interceptors.request.use( config => {\n  const user = JSON.parse(localStorage.getItem('userData')) || {};\n\n  if(user && user.token){\n    const token = 'Bearer ' + user.token;\n    config.headers.Authorization =  token;\n  }\n  return config;\n});\n\nclass BackendService {\n  async getDashBoard() {\n    return await axios.post(apiBase + \"/app/LoadAssignedList\");\n  }\n\n  async getScheduledList() {\n    return await axios.post(apiBase + \"/app/ScheduledList\");\n  }\n  async getLoadForInspection(data) {\n    return await axios.post(apiBase + \"/app/LoadForInspection\", data);\n  }\n  async InsertCheckListResults(data) {\n    return await axios.post(apiBase + \"/app/InsertCheckListResults\", data);\n  }\n\n  async CompleteInspection(data) {\n    return await axios.post(apiBase + \"/app/CompleteInspection\", data);\n  }\n\n  async getInspectedList() {\n    return await axios.post(apiBase + \"/app/VisitedHistory\");\n  }\n\n  async getReScheduledList() {\n    return await axios.post(apiBase + \"/app/ReScheduledList\");\n  }\n\n  async ScheduleSiteVisit(data) {\n    return await axios.post(apiBase + \"/app/ScheduleSiteVisit\", data);\n  }\n\n  async getInspectionReport(data) {\n    return await axios.post(apiBase + \"/app/Inspectedlist\", data);\n  }\n\n  async getPmBoard() {\n    return await axios.get(\"/api/test/pm\");\n  }\n\n  async getAdminBoard() {\n    return await axios.get(\"/api/test/admin\");\n  }\n}\n\nexport default new BackendService();"],"sourceRoot":""}