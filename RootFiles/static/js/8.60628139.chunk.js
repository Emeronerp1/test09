(this.webpackJsonpc696_client_new=this.webpackJsonpc696_client_new||[]).push([[8],{260:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var r=a(48),n=a.n(r),s=a(49),c=a(13),i=a(12),o=a(1),u=a(46),l=a(54),d=a.n(l),p=(a(56),a(57)),b=a.n(p),m=a(2),j=a(60),f=(a(52),a(20)),h=a(53),x=a(0);function O(){var e=Object(m.i)(),t=(Object(m.g)(),Object(o.useState)(!1)),a=Object(i.a)(t,2),r=a[0],l=a[1],p=Object(o.useState)([]),O=Object(i.a)(p,2),v=O[0],g=O[1],y=Object(o.useState)({display:"none","padding-left":"0px;"}),k=Object(i.a)(y,2),I=k[0],w=k[1],N=Object(o.useState)({display:"none"}),C=Object(i.a)(N,2),S=C[0],F=C[1],L=Object(o.useState)({UnitId:parseInt(e.unitId),PropertyTypeId:0,IndexCode:"",Result:!0,UCId:parseInt(e.ucId),Remarks:"",Image:""}),R=Object(i.a)(L,2),P=R[0],T=R[1],A=Object(o.useState)(!0),D=Object(i.a)(A,2),U=D[0],B=D[1],M=function(e){w({display:"none","padding-left":"0px;"}),F({display:"none"})},V=function(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}}))};function _(){return(_=Object(s.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],e.next=3,V(a);case 3:r=e.sent,T(Object(c.a)(Object(c.a)({},P),{},{Image:r}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=[{dataField:"Action",text:"ACTION",formatter:function(e,t,a,r){return Object(x.jsx)("button",{className:"btn btn-primary",children:"Insert CheckList"})},events:{onClick:function(e,t,a,r,n){!function(e){var t=e.PropertyTypeId,a=e.IndexCode;T(Object(c.a)(Object(c.a)({},P),{},{PropertyTypeId:t,IndexCode:a,Remarks:"",Image:""})),console.log(P),w({display:"block","padding-left":"0px;"}),F({display:"block"})}(r)}}},{dataField:"UnitType",text:"Uunit Type",sort:!0},{dataField:"IndexCode",text:"Index Code",sort:!0},{dataField:"CodeName",text:"Code Name",sort:!0},{dataField:"MainOrSub",text:"Main Or Sub",sort:!0},{dataField:"Criterias",text:"Criterias",sort:!0,headerStyle:function(e,t){return{width:"80px",textAlign:"left"}}},{dataField:"Remarks",text:"Remarks",sort:!0},{dataField:"Result",text:"Result",sort:!0},{dataField:"Image",text:"Image",formatter:function(e,t,a,r){return t.Image?Object(x.jsx)("a",{href:t.Image,target:"_blank",children:Object(x.jsx)("img",{alt:!0,src:t.Image})}):Object(x.jsx)("a",{})}}];b()({sizePerPage:2,hideSizePerPage:!0,prePageText:"Previous",nextPageText:"Next",withFirstAndLast:!1,hidePageListOnlyOnePage:!1});Object(o.useEffect)((function(){u.a.getLoadForInspection({UnitId:parseInt(e.unitId),UCId:parseInt(e.ucId)}).then((function(e){B(!1),console.log(e.data.data.data),g(JSON.parse(e.data.data.data))}))}),[]);return Object(x.jsxs)("div",{className:"container-fluid page-body-wrapper",children:[Object(x.jsx)("div",{className:"main-panel",children:Object(x.jsx)("div",{className:"content-wrapper",children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-lg-12 grid-margin stretch-card",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsxs)("div",{className:"card-body",children:[Object(x.jsx)("h4",{className:"card-title",children:"Inspection Process"}),Object(x.jsx)("div",{className:"table-responsive",children:U?Object(x.jsx)(j.a,{duration:3,height:30,count:50}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(d.a,{bootstrap4:!0,keyField:"id",data:v,striped:!0,condensed:!0,columns:z,defaultSorted:[{dataField:"name",order:"desc"}]})})})]})})})})})}),Object(x.jsx)("div",{className:"modal-backdrop fade show",style:S}),Object(x.jsx)("div",{className:"modal fade show",id:"exampleModal-4",style:I,tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel-4","aria-hidden":"true",children:Object(x.jsx)("div",{className:"modal-dialog",role:"document",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h5",{className:"modal-title",id:"exampleModalLabel-4",children:"Insert CheckList Results"}),Object(x.jsx)("button",{type:"button",onClick:M,className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(x.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(!0),u.a.InsertCheckListResults(P).then((function(e){l(!1),200===e.status&&200===e.data.statusCode?(f.b.success("Successfully Inserted CheckList.",h.a),M()):f.b.error("Incorrect username or password. Please try again.",h.a)})).catch((function(e){console.log(e),e.response?f.b.error("There is a problem while calling the api request.",{appearance:"error",autoDismiss:!0}):e.request?f.b.error("Network problems happen when something disrupts the connection between your computer and the content you're trying to access.",{appearance:"error",autoDismiss:!0}):f.b.error("Error",e.message)})),e.preventDefault()},children:[Object(x.jsxs)("div",{className:"modal-body",children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"recipient-name",className:"col-form-label",children:"Status:"}),Object(x.jsxs)("select",{type:"text",onChange:function(e){var t=Boolean(parseInt(e.target.value));T(Object(c.a)(Object(c.a)({},P),{},{Result:t}))},className:"form-control",id:"recipient-name",children:[Object(x.jsx)("option",{value:"1",children:"True"}),Object(x.jsx)("option",{value:"0",children:"False"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"message-text",className:"col-form-label",children:"Remarks:"}),Object(x.jsx)("textarea",{className:"form-control",value:P.Remarks,onInput:function(e){var t=e.target.value;T(Object(c.a)(Object(c.a)({},P),{},{Remarks:t}))},id:"message-text",defaultValue:""})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"message-text",className:"col-form-label",children:"Choose Image"}),Object(x.jsx)("input",{type:"file",onChange:function(e){return _.apply(this,arguments)},className:"form-control",id:"input-file",defaultValue:""})]})]}),Object(x.jsxs)("div",{className:"modal-footer",children:[Object(x.jsx)("button",{type:"submit",disabled:r,className:"btn btn-success",children:"Submit"}),Object(x.jsx)("button",{type:"button",onClick:M,className:"btn btn-light","data-dismiss":"modal",children:"Close"})]})]})]})})})]})}},46:function(e,t,a){"use strict";var r=a(48),n=a.n(r),s=a(49),c=a(47),i=a(50),o=a(51),u=a.n(o),l="https://holidayhomesrak.com:3001/api";u.a.interceptors.request.use((function(e){var t=JSON.parse(localStorage.getItem("userData"))||{};if(t&&t.token){var a="Bearer "+t.token;e.headers.Authorization=a}return e}));var d=function(){function e(){Object(c.a)(this,e)}return Object(i.a)(e,[{key:"getDashBoard",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"/app/LoadAssignedList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getScheduledList",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"/app/ScheduledList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLoadForInspection",value:function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"/app/LoadForInspection",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"InsertCheckListResults",value:function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"/app/InsertCheckListResults",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInspectedList",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"/app/VisitedHistory");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getReScheduledList",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"/app/ReScheduledList");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"ScheduleSiteVisit",value:function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(l+"/app/ScheduleSiteVisit",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPmBoard",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/test/pm");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAdminBoard",value:function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/test/admin");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.a=new d},53:function(e,t,a){"use strict";a(1);t.a={style:{borderRadius:"10px",background:"#333",fontSize:"14px",color:"#fff"}}}}]);
//# sourceMappingURL=8.60628139.chunk.js.map